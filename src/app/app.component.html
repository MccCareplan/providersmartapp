<mat-toolbar color="primary" style="height:36px;min-height:36px">
  <mat-toolbar-row>
    <span>Careplan</span>
    <!-- This fills the remaining space of the current row -->
    <span class="center-name">{{dataservice.demographic.name}}, DOB: {{dataservice.demographic.dateOfBirth}}</span>
    <span class="example-fill-remaining-space"></span>
    <!-- todo: put patientSearch style into app.component.css file -->
    <!-- todo: patSearch template variable useage to set focus when field is visible is not working -->
    <input type="text"
           #patSearch
           *ngIf="showPatientSearch"
           style="float: right; width:400px; height:60%; font-size: .8em; background: white; color: black; padding-left: .5em;"
           matInput
           placeholder="Enter at least {{minSearchCharacters}} characters to search patient by name"
           [formControl]="patientSearch"
           [matAutocomplete]="auto">
    <mat-icon matTooltip="Select a new patient" aria-label="Button to select a new patient" (click)="togglePatientSearch()">person</mat-icon>
    <mat-icon matTooltip="Select a careplan" aria-label="Button to select and new careplan" [matMenuTriggerFor]="menuCareplan" >folder</mat-icon>
    <mat-menu #menuCareplan="matMenu">
      <button mat-menu-item
              *ngFor="let plan of this.dataservice.careplans"
              (click)="this.dataservice.setCurrentCarePlan(plan.fhirid)"
      >
        {{plan.title}}
      </button>
    </mat-menu>
    <mat-icon matTooltip="Show current user information" aria-label="Button to show the users information">
      account_circle
    </mat-icon>
    <mat-icon matTooltip="Show control panel" aria-label="Buttn to show or hide the control panel" class="settings-icon"
              (click)="sidenav.toggle()">settings
    </mat-icon>
  </mat-toolbar-row>
</mat-toolbar>

<mat-sidenav-container>
  <mat-sidenav position="end" #sidenav mode="side" [(opened)]="opened" (opened)="events.push('open!')"
               (closed)="events.push('close!')">
    <table>
      <tr>
        <td><p>FHIR Server URL:</p></td>
        <td><p>https://api.logicahealth.org/MCCeCarePlanTest/open/</p></td>
      </tr>
      <tr>
        <td><p>API Server URL</p></td>
        <td><p>{{apiURL}}</p></td>
      </tr>
    </table>
  </mat-sidenav>
  <mat-sidenav-content>
    <app-demographics-panel></app-demographics-panel>
    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="patientSelected($event.option.value)">
      <mat-option
        *ngFor="let patient of filteredPatients | async" [value]="patient.fhirid">
        {{ patient.name }}
      </mat-option>
    </mat-autocomplete>
    <mat-tab-group>
      <mat-tab label="Health and Social Concerns" matTooltip="View the health and social concerns view"
               aria-label="Tab to select the health and social concerns group">
        <app-health-and-social-concerns></app-health-and-social-concerns>
      </mat-tab>
      <mat-tab label="Goals and Preferences" matTooltip="View careplan goals" aria-label="Tab to select the goals group">
        <app-goals></app-goals>
      </mat-tab>
      <mat-tab label="Health Maintenance & Interventions" matTooltip="View health maintenance and interventions"
               aria-label="Tab to select the health maintance group">
        <app-maintenance-and-interventions></app-maintenance-and-interventions>
      </mat-tab>
      <mat-tab label="Health Status Evaluation & Outcomes"
               aria-label="Tab to select the health status and evaluation group">
        <app-health-status></app-health-status>
      </mat-tab>
      <mat-tab label="Care Team" area-label="Tab to select the care team group">
        <app-care-team></app-care-team>
      </mat-tab>
    </mat-tab-group>
  </mat-sidenav-content>
</mat-sidenav-container>
